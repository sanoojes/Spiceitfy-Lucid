(async()=>{for(;!Spicetify.React||!Spicetify.ReactDOM;)await new Promise(e=>setTimeout(e,10));var j,l,D,T,A,V,z,U,F,H,G,x,L,e,t,r,q,a,W,K,X,J,o,Y,Z,Q,ee,te,ae,re,ne,le,oe,n,ie,se,i,ce,ue,de,me,pe,fe,ye,ge,s,ve,be,he,we,Ee,g,Se,ke,c,_e,xe,u,Le,d,m,Oe,p,Me,f,y,v,b,h,w,Ce,Pe,E,Ie,S,Re,k,_,$e,Ne,O,Be,M,je,C,De,Te,Ae,P,Ve,I,ze,Ue,Fe,R,He,Ge,qe,We,Ke,$,Xe,Je,Ye;async function Ze(){var e,t;window.isCustomControls||(t=Z(),e=Q(),t=Math.round(t**.912872807*100/100-3),await Spicetify.CosmosAsync.post("sp://messages/v1/container/control",{type:"update_titlebar",height:t}),!window.isWindows)||window.isCustomControls||window.isLightMode||(t=ee(135,e,1),window.rootStyle.setProperty("--control-height","64px"),window.rootStyle.setProperty("--control-width",t+"px"))}function N(e,t,a){return"#"+(e<<16|t<<8|a).toString(16).padStart(6,"0")}function Qe(e,t,a){var[e,t,a]=[e/255,t/255,a/255],[e,t,a]=[e<=.03928?e/12.92:((e+.055)/1.055)**2.4,t<=.03928?t/12.92:((t+.055)/1.055)**2.4,a<=.03928?a/12.92:((a+.055)/1.055)**2.4];return.2126*e+.7152*t+.0722*a}function et(e,t){return L(x({},e),{r:Math.max(0,Math.round(e.r*t)),g:Math.max(0,Math.round(e.g*t)),b:Math.max(0,Math.round(e.b*t)),hex:N(Math.max(0,Math.round(e.r*t)),Math.max(0,Math.round(e.g*t)),Math.max(0,Math.round(e.b*t)))})}function B(e,t){return L(x({},e),{r:Math.min(255,Math.round(e.r+(255-e.r)*t)),g:Math.min(255,Math.round(e.g+(255-e.g)*t)),b:Math.min(255,Math.round(e.b+(255-e.b)*t)),hex:N(Math.min(255,Math.round(e.r+(255-e.r)*t)),Math.min(255,Math.round(e.g+(255-e.g)*t)),Math.min(255,Math.round(e.b+(255-e.b)*t)))})}function tt(e,t){e=Qe(e.r,e.g,e.b),t=Qe(t.r,t.g,t.b);return(Math.max(e,t)+.05)/(Math.min(e,t)+.05)}async function at(n){try{var l=await(0,pe.loadImage)(n),o=Math.max(l.width/20,10),i=Math.max(l.height/20,10),s=(0,pe.createCanvas)(o,i).getContext("2d"),c=(s.drawImage(l,0,0,o,i),s.getImageData(0,0,o,i)),u=c.data,d={};let t={};var m=Math.floor(.2*u.length);for(let e=0;e<m;e+=4){var p=u[e],f=u[e+1],y=u[e+2],g=p+`-${f}-`+y;d[g]=(d[g]||0)+1,t[g]={r:p,g:f,b:y,hex:N(p,f,y)}}var v=Object.entries(d).sort((e,t)=>t[1]-e[1]).map(([e])=>t[e]),b=v[0];let e=v[1],a=v[2],r=2;for(;!e||tt(b,e)<2.5;){if(r>=v.length){e=B(b,.2);break}e=v[r],r++}for(;!a||tt(b,a)<2.5||tt(e,a)<2.5;){if(r>=v.length){a=B(e,.2);break}a=v[r],r++}var h,w={main:et(b,.8),sidebar:et(e,.9),card:et(a,.9),accent:B(a,.4),highlight:B(e,.2),button:B(a,.4),"button-active":B(a,.4),text:B(b,.8),subtext:B(b,.9),primary:b,secondary:e,tertiary:a};for(h of[w.main,w.sidebar,w.card]).3<Qe(h.r,h.g,h.b)&&(h.r=Math.max(0,Math.round(.7*h.r)),h.g=Math.max(0,Math.round(.7*h.g)),h.b=Math.max(0,Math.round(.7*h.b)),h.hex=N(h.r,h.g,h.b)),h=(E=h,S=.5,_=k=void 0,k=Math.max(0,Math.min(255,Math.round(E.r*S))),_=Math.max(0,Math.min(255,Math.round(E.g*S))),S=Math.max(0,Math.min(255,Math.round(E.b*S))),L(x({},E),{r:k,g:_,b:S,hex:N(k,_,S)}));return w.accent&&w.main&&tt(w.accent,w.main)<4.5&&(w.accent=B(w.accent,.2)),w}catch(e){return console.error("Error extracting colors:",e),e}var E,S,k,_}async function rt(t,e){try{if(e){if(!window.currentArtUrl)return null;var a,r,n=await at(window.currentArtUrl);if(n instanceof Error)return console.error("[Lucid] Error extracting colors:",n.message),null;let e=":root{";for([a,r]of Object.entries(n))e+=` --spice-${a}: ${r.hex} !important;
 --spice-rgb-${a}: ${r.r}, ${r.g}, ${r.b} !important;
`;return e+="}",t.innerHTML=e,n}return t.innerHTML="",null}catch(e){return console.error("Error saving colors to style:",e),null}}async function nt(e){e&&e.remove()}j=Object.create,l=Object.defineProperty,D=Object.defineProperties,T=Object.getOwnPropertyDescriptor,A=Object.getOwnPropertyDescriptors,V=Object.getOwnPropertyNames,z=Object.getOwnPropertySymbols,U=Object.getPrototypeOf,F=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable,G=(e,t,a)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,x=(e,t)=>{for(var a in t=t||{})F.call(t,a)&&G(e,a,t[a]);if(z)for(var a of z(t))H.call(t,a)&&G(e,a,t[a]);return e},L=(e,t)=>D(e,A(t)),t=(e,t,a)=>(a=null!=e?j(U(e)):{},((t,a,r,n)=>{if(a&&"object"==typeof a||"function"==typeof a)for(let e of V(a))F.call(t,e)||e===r||l(t,e,{get:()=>a[e],enumerable:!(n=T(a,e))||n.enumerable});return t})(!t&&e&&e.__esModule?a:l(a,"default",{value:e,enumerable:!0}),e)),r=(e=(e,t)=>function(){return t||(0,e[V(e)[0]])((t={exports:{}}).exports,t),t.exports})({"external-global-plugin:react"(e,t){t.exports=Spicetify.React}}),q=e({"node_modules/canvas/lib/parse-font.js"(e,t){var a=`'([^']+)'|"([^"]+)"|[\\w\\s-]+`,n=new RegExp("(bold|bolder|lighter|[1-9]00) +","i"),l=new RegExp("(italic|oblique) +","i"),o=new RegExp("(small-caps) +","i"),i=new RegExp("(ultra-condensed|extra-condensed|condensed|semi-condensed|semi-expanded|expanded|extra-expanded|ultra-expanded) +","i"),s=new RegExp(`([\\d\\.]+)(px|pt|pc|in|cm|mm|%|em|ex|ch|rem|q) *((?:${a})( *, *(?:${a}))*)`),c={};t.exports=e=>{if(c[e])return c[e];var t=s.exec(e);if(t){var a,r={weight:"normal",style:"normal",stretch:"normal",variant:"normal",size:parseFloat(t[1]),unit:t[2],family:t[3].replace(/["']/g,"").replace(/ *, */g,",")},t=e.substring(0,t.index);switch((a=n.exec(t))&&(r.weight=a[1]),(a=l.exec(t))&&(r.style=a[1]),(a=o.exec(t))&&(r.variant=a[1]),(a=i.exec(t))&&(r.stretch=a[1]),r.unit){case"pt":r.size/=.75;break;case"pc":r.size*=16;break;case"in":r.size*=96;break;case"cm":r.size*=96/2.54;break;case"mm":r.size*=96/25.4;break;case"%":break;case"em":case"rem":r.size*=16/.75;break;case"q":r.size*=96/25.4/4}return c[e]=r}}}}),a=e({"node_modules/canvas/browser.js"(e){var t=q();e.parseFont=t,e.createCanvas=function(e,t){return Object.assign(document.createElement("canvas"),{width:e,height:t})},e.createImageData=function(e,t,a){switch(arguments.length){case 0:return new ImageData;case 1:return new ImageData(e);case 2:return new ImageData(e,t);default:return new ImageData(e,t,a)}},e.loadImage=function(n,l){return new Promise(function(e,t){let a=Object.assign(document.createElement("img"),l);function r(){a.onload=null,a.onerror=null}a.onload=function(){r(),e(a)},a.onerror=function(){r(),t(new Error('Failed to load the image "'+n+'"'))},a.src=n})}}}),W=e({"../../node_modules/use-sync-external-store/cjs/use-sync-external-store-shim.development.js"(e){function i(e){for(var t=arguments.length,a=new Array(1<t?t-1:0),r=1;r<t;r++)a[r-1]=arguments[r];var n="error",l=a,o=u.ReactDebugCurrentFrame.getStackAddendum();""!==o&&(e+="%s",l=l.concat([o])),(o=l.map(function(e){return String(e)})).unshift("Warning: "+e),Function.prototype.apply.call(console[n],console,o)}function s(e){var t=e.getSnapshot,e=e.value;try{var a=t();return!d(e,a)}catch(e){return 1}}var c,u,d,m,p,f,y,g,v,t;"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error),c=r(),u=c.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,d="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},m=c.useState,p=c.useEffect,f=c.useLayoutEffect,y=c.useDebugValue,v=g=!1,t=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),t=void 0!==c.useSyncExternalStore?c.useSyncExternalStore:!t?function(e,t,a){return t()}:function(e,t,a){g||void 0!==c.startTransition&&(g=!0,i("You are using an outdated, pre-release alpha of React 18 that does not support useSyncExternalStore. The use-sync-external-store shim will not work correctly. Upgrade to a newer pre-release."));var r=t(),n=(v||(n=t(),d(r,n))||(i("The result of getSnapshot should be cached to avoid an infinite loop"),v=!0),m({inst:{value:r,getSnapshot:t}})),l=n[0].inst,o=n[1];return f(function(){l.value=r,l.getSnapshot=t,s(l)&&o({inst:l})},[e,r,t]),p(function(){s(l)&&o({inst:l});return e(function(){s(l)&&o({inst:l})})},[e]),y(r),r},e.useSyncExternalStore=t,"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)}}),K=e({"../../node_modules/use-sync-external-store/shim/index.js"(e,t){t.exports=W()}}),X=e({"../../node_modules/use-sync-external-store/cjs/use-sync-external-store-shim/with-selector.development.js"(e){var t,a,u,l,d,m,p,f;"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error),t=r(),a=K(),u="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},l=a.useSyncExternalStore,d=t.useRef,m=t.useEffect,p=t.useMemo,f=t.useDebugValue,e.useSyncExternalStoreWithSelector=function(e,a,o,i,s){var c,t=d(null);null===t.current?(c={hasValue:!1,value:null},t.current=c):c=t.current;var r=(t=p(function(){var r,n,l=!1,e=function(e){if(l)return t=n,u(r,e)||(a=i(e),void 0!==s&&s(t,a))?t:(r=e,n=a);l=!0;var t=i(r=e);if(void 0!==s&&c.hasValue){var a=c.value;if(s(a,t))return n=a}return n=t},t=void 0===o?null:o;return[function(){return e(a())},null===t?void 0:function(){return e(t())}]},[a,o,i,s]))[0],n=l(e,r,t[1]);return m(function(){c.hasValue=!0,c.value=n},[n]),f(n),n},"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)}}),e=e({"../../node_modules/use-sync-external-store/shim/with-selector.js"(e,t){t.exports=X()}}),J=t(r()),o=t(r()),Y=async()=>{var t,a,r,n,l,o,i;try{var s=Spicetify.Platform.History.location.pathname;if(Spicetify.URI.isPlaylistV1OrV2(s)||Spicetify.URI.isArtist(s)){var c,e=s.match(/\/(?:playlist|artist)\/([^/]+)/)[1],u=`spotify:${Spicetify.URI.isPlaylistV1OrV2(s)?"playlist":"artist"}:`+e;if(!window.playlistArtUrl||window.playlistArtUrl.uri!==u||!window.playlistArtUrl.url){let e;e=Spicetify.URI.isPlaylistV1OrV2(s)?null==(t=(await Spicetify.Platform.PlaylistAPI.getMetadata(u)).images.find(e=>e.url))?void 0:t.url:(null==(n=null==(r=null==(a=(c=await Spicetify.GraphQL.Request({name:"queryArtistOverview",operation:"query",sha256Hash:"35648a112beb1794e39ab931365f6ae4a8d45e65396d641eeda94e4003d41497",value:null},{uri:u,includePrerelease:!0,locale:null})).data.artistUnion.visuals.headerImage)?void 0:a.sources)?void 0:r[0])?void 0:n.url)||(null==(i=null==(o=null==(l=c.data.artistUnion.visuals.avatarImage)?void 0:l.sources)?void 0:o[0])?void 0:i.url),window.playlistArtUrl={url:e,uri:u}}window.playlistArtUrl.url?window.rootStyle.setProperty("--playlist-art-image",`url(${window.playlistArtUrl.url})`):console.warn("No playlist/artist artwork URL found for URI: "+u)}}catch(e){console.error("Error fetching playlist/artist artwork:",e)}},Z=()=>{var e=window.innerWidth;return window.outerWidth/e*100},Q=()=>window.innerWidth/window.outerWidth,ee=(e,t,a=1,r=0,n=Number.POSITIVE_INFINITY)=>Math.max(r,Math.min(e*(t+a-1),n)),te=t(r()),ae=Spicetify.React.createContext(null),re=({children:e})=>{let[t,a]=te.default.useState(!1);return te.default.createElement(ae.Provider,{value:{isOpen:t,openModal:()=>a(!0),closeModal:()=>a(!1)}},e)},ne=()=>{var e=Spicetify.React.useContext(ae);if(e)return e;throw new Error("[Lucid] Wrap Element with ModalContextProvider")},le=t(r()),oe=()=>{var e=le.default.useRef(null);return le.default.createElement("div",{ref:e,className:"lucid-transperent-window-controls"})},n=t(r()),ie=t(r()),se=()=>ie.default.createElement("div",{className:"static-background"}),i=t(r()),ce=()=>i.default.createElement("div",{className:"animated-background-container"},i.default.createElement("div",{className:"back"}),i.default.createElement("div",{className:"backleft"}),i.default.createElement("div",{className:"backright"}),i.default.createElement("div",{className:"front"})),ue=t(r()),de=()=>ue.default.createElement("div",{className:"solid-background"}),me=t(r()),pe=t(a()),fe={},ye=e=>{let r,n=new Set;var t=(e,a)=>{e="function"==typeof e?e(r):e;if(!Object.is(e,r)){let t=r;r=(null!=a?a:"object"!=typeof e||null===e)?e:Object.assign({},r,e),n.forEach(e=>e(r,t))}},a=()=>r,l={setState:t,getState:a,getInitialState:()=>o,subscribe:e=>(n.add(e),()=>n.delete(e)),destroy:()=>{"production"!==(fe.env?fe.env.MODE:void 0)&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}};let o=r=e(t,a,l);return l},ge=e=>e?ye(e):ye,a=t(r(),1),e=t(e(),1),s={},ve=a.default.useDebugValue,be=e.default.useSyncExternalStoreWithSelector,he=!1,we=e=>e,a=e=>{"production"!==(s.env?s.env.MODE:void 0)&&"function"!=typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");let r="function"==typeof e?ge(e):e;e=(e,t)=>{return[e,t=we,a]=[r,e,t],"production"!==(s.env?s.env.MODE:void 0)&&a&&!he&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),he=!0),e=be(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,a),ve(e),e;var a};return Object.assign(e,r),e},Ee={},g=a=>e=>{try{let t=a(e);return t instanceof Promise?t:{then(e){return g(e)(t)},catch(e){return this}}}catch(t){return{then(e){return this},catch(e){return g(e)(t)}}}},ke={backgroundMode:"static",backgroundStyles:{solid:{opacity:1,backgroundColor:"var(--spice-main)"},static:{blur:32,opacity:1,saturation:1.1,contrast:1.2,brightness:.6,backgroundColor:"var(--spice-main)"},animated:{blur:32,time:45,opacity:1,saturation:1.1,contrast:1.2,brightness:.6,backgroundColor:"var(--spice-main)"}},grainEffect:"stary",isDynamicColor:!(Se=(p,f)=>(a,r,e)=>{let n={storage:((e,a)=>{let r;try{r=e()}catch(e){return}return{getItem:e=>{var t=e=>null===e?null:JSON.parse(e,null==a?void 0:a.reviver),e=null!=(e=r.getItem(e))?e:null;return e instanceof Promise?e.then(t):t(e)},setItem:(e,t)=>r.setItem(e,JSON.stringify(t,null==a?void 0:a.replacer)),removeItem:e=>r.removeItem(e)}})(()=>localStorage),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...f},l=!1,o=new Set,i=new Set,s=n.storage;if(!s)return p((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${n.name}', the given storage is currently unavailable.`),a(...e)},r,e);let c=()=>{var e=n.partialize({...r()});return s.setItem(n.name,{state:e,version:n.version})},u=e.setState,d=(e.setState=(e,t)=>{u(e,t),c()},p((...e)=>{a(...e),c()},r,e));e.getInitialState=()=>d;let m,t=()=>{var e;if(s){l=!1,o.forEach(e=>e(null!=(e=r())?e:d));let t=(null==(e=n.onRehydrateStorage)?void 0:e.call(n,null!=(e=r())?e:d))||void 0;return g(s.getItem.bind(s))(n.name).then(e=>{if(e){if("number"!=typeof e.version||e.version===n.version)return[!1,e.state];if(n.migrate)return[!0,n.migrate(e.state,e.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(e=>{var[e,t]=e;if(m=n.merge(t,null!=(t=r())?t:d),a(m,!0),e)return c()}).then(()=>{null!=t&&t(m,void 0),m=r(),l=!0,i.forEach(e=>e(m))}).catch(e=>{null!=t&&t(void 0,e)})}};return e.persist={setOptions:e=>{n={...n,...e},e.storage&&(s=e.storage)},clearStorage:()=>{null!=s&&s.removeItem(n.name)},getOptions:()=>n,rehydrate:()=>t(),hasHydrated:()=>l,onHydrate:e=>(o.add(e),()=>{o.delete(e)}),onFinishHydration:e=>(i.add(e),()=>{i.delete(e)})},n.skipHydration||t(),m||d}),playlistImageMode:"inherit",playbarMode:"default",playbarStyles:{compact:{opacity:1,saturation:1.1,contrast:1.2,brightness:.8,borderRadius:8,backdropBlur:32,paddingX:6,backgroundColor:"rgba(var(--spice-rgb-main), 0.5)"},default:{opacity:1,paddingX:6,saturation:1.1,contrast:1.2,borderRadius:8,brightness:.8,backdropBlur:32,backgroundColor:"rgba(var(--spice-rgb-main), 0.5)"}},fontFamily:"Poppins",fontImportUrl:"https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap",playlistViewMode:"card"},c=(e=((e,t)=>{var f,y;return"getStorage"in t||"serialize"in t||"deserialize"in t?("production"!==(Ee.env?Ee.env.MODE:void 0)&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),f=e,y=t,(a,r,e)=>{let n={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...y},l=!1,o=new Set,i=new Set,s;try{s=n.getStorage()}catch(e){}if(!s)return f((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${n.name}', the given storage is currently unavailable.`),a(...e)},r,e);let c=g(n.serialize),u=()=>{var e=n.partialize({...r()});let t;e=c({state:e,version:n.version}).then(e=>s.setItem(n.name,e)).catch(e=>{t=e});if(t)throw t;return e},d=e.setState,m=(e.setState=(e,t)=>{d(e,t),u()},f((...e)=>{a(...e),u()},r,e)),p,t=()=>{var e;if(s){l=!1,o.forEach(e=>e(r()));let t=(null==(e=n.onRehydrateStorage)?void 0:e.call(n,r()))||void 0;return g(s.getItem.bind(s))(n.name).then(e=>{if(e)return n.deserialize(e)}).then(e=>{if(e)return"number"!=typeof e.version||e.version===n.version?e.state:n.migrate?n.migrate(e.state,e.version):void console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}).then(e=>(p=n.merge(e,null!=(e=r())?e:m),a(p,!0),u())).then(()=>{null!=t&&t(p,void 0),l=!0,i.forEach(e=>e(p))}).catch(e=>{null!=t&&t(void 0,e)})}};return e.persist={setOptions:e=>{n={...n,...e},e.getStorage&&(s=e.getStorage())},clearStorage:()=>{null!=s&&s.removeItem(n.name)},getOptions:()=>n,rehydrate:()=>t(),hasHydrated:()=>l,onHydrate:e=>(o.add(e),()=>{o.delete(e)}),onFinishHydration:e=>(i.add(e),()=>{i.delete(e)})},t(),p||m}):Se(e,t)})(n=>L(x({},ke),{setBackgroundMode:e=>n(()=>({backgroundMode:e})),setFontFamily:e=>n(()=>({fontFamily:e})),setFontImportUrl:e=>n(()=>({fontImportUrl:e})),setGrainEffect:e=>n(()=>({grainEffect:e})),setPlaylistImageMode:e=>n(()=>({playlistImageMode:e})),setPlaybarMode:e=>n(()=>({playbarMode:e})),setPlaylistViewMode:e=>n(()=>({playlistViewMode:e})),setDynamicColor:e=>n(()=>({isDynamicColor:e})),updateBackgroundStyles:(t,a,r)=>{n(e=>L(x({},e),{backgroundStyles:L(x({},e.backgroundStyles),{[t]:L(x({},e.backgroundStyles[t]),{[a]:r})})}))},updatePlaybarStyles:(t,a,r)=>{n(e=>L(x({},e),{playbarStyles:L(x({},e.playbarStyles),{[t]:L(x({},e.playbarStyles[t]),{[a]:r})})}))},resetSettings:()=>{n(ke)}}),{name:"lucid-settings"}))?a(e):a,_e=()=>{let e=c().isDynamicColor,t=document.getElementById("lucid_dynamic_colors"),a=(t||((t=document.createElement("style")).id="lucid_dynamic_colors",document.head.appendChild(t)),()=>{rt(t,e).then(()=>console.log("[Lucid] Dynamic colors updated!")).catch(e=>console.error("[Lucid] Error updating dynamic colors:",e))});return me.default.useEffect(()=>{if(e)return Spicetify.Player.addEventListener("songchange",a),rt(t,e).then(()=>console.log("[Lucid] Dynamic colors applied initially!")).catch(e=>console.error("[Lucid] Error applying dynamic colors initially:",e)),()=>{Spicetify.Player.removeEventListener("songchange",a),nt(t)};nt(t)},[e,t]),me.default.createElement("div",{id:"dynamic-colors"})},xe=()=>{let{backgroundMode:t,backgroundStyles:a}=c(),[e,r]=n.default.useState({});return n.default.useEffect(()=>{var e;r({"--background-color":null==(e=a[t])?void 0:e.backgroundColor,"--opacity":null==(e=a[t])?void 0:e.opacity,"--brightness":null==(e=a[t])?void 0:e.brightness,"--contrast":null==(e=a[t])?void 0:e.contrast,"--time":`${(null==(e=a[t])?void 0:e.time)||0}s`,"--blur":`${(null==(e=a[t])?void 0:e.blur)||0}px`,"--saturation":null==(e=a[t])?void 0:e.saturation,"--backdrop-blur":`${(null==(e=a[t])?void 0:e.backdropBlur)||0}px`})},[t,a]),n.default.createElement("div",{className:"background-wrapper",style:e},"animated"===t&&n.default.createElement(ce,null),"static"===t&&n.default.createElement(se,null),"solid"===t&&n.default.createElement(de,null),n.default.createElement(_e,null))},u=t(r()),Le=({cb:t})=>(Spicetify.React.useEffect(()=>{let e=new Spicetify.Menu.Item("Lucid Settings",!1,()=>t(),'<svg width="16" height="16" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.012 2.25c.734.008 1.465.093 2.182.253a.75.75 0 0 1 .582.649l.17 1.527a1.384 1.384 0 0 0 1.927 1.116l1.401-.615a.75.75 0 0 1 .85.174 9.792 9.792 0 0 1 2.204 3.792.75.75 0 0 1-.271.825l-1.242.916a1.381 1.381 0 0 0 0 2.226l1.243.915a.75.75 0 0 1 .272.826 9.797 9.797 0 0 1-2.204 3.792.75.75 0 0 1-.848.175l-1.407-.617a1.38 1.38 0 0 0-1.926 1.114l-.169 1.526a.75.75 0 0 1-.572.647 9.518 9.518 0 0 1-4.406 0 .75.75 0 0 1-.572-.647l-.168-1.524a1.382 1.382 0 0 0-1.926-1.11l-1.406.616a.75.75 0 0 1-.849-.175 9.798 9.798 0 0 1-2.204-3.796.75.75 0 0 1 .272-.826l1.243-.916a1.38 1.38 0 0 0 0-2.226l-1.243-.914a.75.75 0 0 1-.271-.826 9.793 9.793 0 0 1 2.204-3.792.75.75 0 0 1 .85-.174l1.4.615a1.387 1.387 0 0 0 1.93-1.118l.17-1.526a.75.75 0 0 1 .583-.65c.717-.159 1.45-.243 2.201-.252Zm0 1.5a9.135 9.135 0 0 0-1.354.117l-.109.977A2.886 2.886 0 0 1 6.525 7.17l-.898-.394a8.293 8.293 0 0 0-1.348 2.317l.798.587a2.881 2.881 0 0 1 0 4.643l-.799.588c.32.842.776 1.626 1.348 2.322l.905-.397a2.882 2.882 0 0 1 4.017 2.318l.11.984c.889.15 1.798.15 2.687 0l.11-.984a2.881 2.881 0 0 1 4.018-2.322l.905.396a8.296 8.296 0 0 0 1.347-2.318l-.798-.588a2.881 2.881 0 0 1 0-4.643l.796-.587a8.293 8.293 0 0 0-1.348-2.317l-.896.393a2.884 2.884 0 0 1-4.023-2.324l-.11-.976a8.988 8.988 0 0 0-1.333-.117ZM12 8.25a3.75 3.75 0 1 1 0 7.5 3.75 3.75 0 0 1 0-7.5Zm0 1.5a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5Z" fill="#fff"/></svg>');return e.register(),()=>{e.deregister()}},[t]),null),d=t(r()),m=t(r()),Oe=m.default.memo(({title:e,children:t,headingChild:a})=>{let{isOpen:r,closeModal:n}=ne();return r?m.default.createElement("div",{className:"modal-container"},m.default.createElement("div",{className:"modal-overlay "+(r&&"open"),style:{zIndex:20},onClick:n}),m.default.createElement("div",{className:"modal-section "+(r&&"open"),role:"dialog","aria-label":e,"aria-modal":"true"},m.default.createElement("div",{className:"main-embedWidgetGenerator-container"},m.default.createElement("div",{className:"main-trackCreditsModal-header"},m.default.createElement("h1",{className:"main-type-alto"},e),a&&m.default.createElement("div",null,a),m.default.createElement("button",{type:"button","aria-label":"Close",className:"main-trackCreditsModal-closeBtn",onClick:()=>n()},m.default.createElement("svg",{width:"18",height:"18",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg"},m.default.createElement("title",null,"Close"),m.default.createElement("path",{d:"M31.098 29.794L16.955 15.65 31.097 1.51 29.683.093 15.54 14.237 1.4.094-.016 1.508 14.126 15.65-.016 29.795l1.414 1.414L15.54 17.065l14.144 14.143",fill:"currentColor","fill-rule":"evenodd"})))),m.default.createElement("div",{className:"modal-contents"},m.default.createElement("main",{className:"modal-wrapper"},t))))):null}),p=t(r()),Me=({title:e,description:t,children:a})=>p.default.createElement("div",{className:"setting-section"},p.default.createElement("div",{className:"heading-wrapper"},p.default.createElement("h3",{className:"title"},e),t&&p.default.createElement("p",{className:"description"},t)),p.default.createElement("div",{className:"cards-wrapper"},a)),f=t(r()),y=t(r()),v=({options:e,selectedValue:a,onSelect:r,label:t})=>{let[n,l]=y.default.useState(!1),o=y.default.useRef(null);var i=y.default.useRef(null);y.default.useEffect(()=>{let e=e=>{o.current&&!o.current.contains(e.target)&&l(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);return y.default.createElement("div",{className:"dropdown-container",ref:o},y.default.createElement("button",{className:"dropdown-button "+(n&&"open"),onClick:()=>{l(!n)},"aria-haspopup":"listbox","aria-expanded":n,"aria-label":"Toggle dropdown menu",type:"button"},t||a,y.default.createElement("span",{className:"dropdown-arrow"},y.default.createElement("svg",{role:"img","aria-labelledby":"title",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},y.default.createElement("span",{id:"title"},"Down"),y.default.createElement("path",{d:"M4.293 8.293a1 1 0 0 1 1.414 0L12 14.586l6.293-6.293a1 1 0 1 1 1.414 1.414l-7 7a1 1 0 0 1-1.414 0l-7-7a1 1 0 0 1 0-1.414Z",fill:"#ffffff"})))),n&&y.default.createElement("ul",{className:"dropdown-menu","aria-label":"Dropdown menu",ref:i},e.map(t=>y.default.createElement("li",{key:t.value,onClick:()=>{return e=t.value,r(e),void l(!1);var e},className:a===t.value?"dropdown-item selected":"dropdown-item","aria-selected":a===t.value,tabIndex:-1},t.label))))},b=t(r()),h=({title:e,tooltip:t,selectedValue:a,children:r})=>b.default.createElement("div",{className:"card"},b.default.createElement("div",{className:"title-wrapper"},e&&b.default.createElement("h5",{className:"title"},e),t&&b.default.createElement("p",{className:"tooltip"},t),a&&b.default.createElement("p",{className:"selected-value"},"Selected: ",a)),b.default.createElement("div",{className:"children-wrapper"},r)),w=t(r()),Ce=({onChange:e,currentValue:t})=>w.default.createElement("div",{className:"slider-wrapper"},w.default.createElement("label",{className:"switch"},w.default.createElement("input",{type:"checkbox",checked:t,onChange:()=>{e(!t)}}),w.default.createElement("span",{className:"slider round"}))),Pe=t(r()),E=({name:e,step:t,type:a,value:r,placeholder:n,onChange:l})=>Pe.default.createElement("input",{type:a,name:e,step:t,placeholder:n,value:void 0!==r?r.toString():"",className:"input",onChange:e=>{l(e)}}),Ie=f.default.memo(()=>{let{backgroundMode:a,backgroundStyles:e,isDynamicColor:t,setBackgroundMode:r,setDynamicColor:n,updateBackgroundStyles:l}=c();return f.default.createElement(f.default.Fragment,null,f.default.createElement(h,{title:"Set Background",selectedValue:"animated"===a?"Animated Background":"solid"===a?"Solid Background":"static"===a?"Static Background":void 0},f.default.createElement("div",null,f.default.createElement(v,{options:[{label:"Animated",value:"animated"},{label:"Static",value:"static"},{label:"Solid",value:"solid"}],selectedValue:a,onSelect:e=>{r(e)},label:"Select an option"}))),Object.entries(e[a]).map(([t,e])=>f.default.createElement(h,{key:t,title:"Set "+("backgroundColor"===t?"background color":"backdropBlur"===t?"backdrop blur":"borderRadius"===t?"border radius":t)},f.default.createElement(E,{type:"backgroundColor"===t?"text":"number",name:t,step:.01,value:e,onChange:e=>((e,t)=>{e=e.target.value.trim();l(a,t,e)})(e,t)}))),f.default.createElement(h,{title:"Dynamic Color (Experimental)"},f.default.createElement(Ce,{currentValue:t,onChange:e=>n(e)})))}),S=t(r()),Re=()=>{let e=c().resetSettings;return S.default.createElement("div",null,S.default.createElement(h,{title:"Reset to Default"},S.default.createElement("button",{type:"button",className:"button reset-button",onClick:()=>{confirm("Are you sure you want to reset all background settings to their default values? This action cannot be undone.")&&e()}},"Reset")))},k=t(r()),_=t(r()),$e=()=>{let{fontFamily:e,fontImportUrl:t,setFontImportUrl:a}=c(),[r,n]=_.default.useState(t||e);return _.default.createElement("div",null,_.default.createElement(E,{name:"Font Family",onChange:e=>{n(e.target.value),a(e.target.value)},placeholder:"Enter Font Family Name or Google Fonts link",type:"text",value:r}))},Ne=()=>{var e=c().fontFamily;return k.default.createElement("div",null,k.default.createElement(h,{title:"Font Family",selectedValue:e},k.default.createElement($e,null)))},O=t(r()),Be=()=>{let{playlistViewMode:e,playlistImageMode:t,setPlaylistViewMode:a,setPlaylistImageMode:r}=c();return O.default.createElement(O.default.Fragment,null,O.default.createElement(h,{title:"Set View Mode",selectedValue:e},O.default.createElement(v,{options:[{label:"Default",value:"default"},{label:"compact",value:"compact"},{label:"card",value:"card"}],onSelect:e=>{a(e)},selectedValue:e})),O.default.createElement(h,{title:"Set Background Image",selectedValue:t},O.default.createElement(v,{options:[{label:"none",value:"none"},{label:"Playlist Art Image",value:"inherit"},{label:"Now Playing",value:"now-playing"}],onSelect:e=>{r(e)},selectedValue:t})))},M=t(r()),je=()=>{let{grainEffect:e,setGrainEffect:t}=c();return M.default.createElement("div",null,M.default.createElement(h,{title:"Set Grains",selectedValue:e},M.default.createElement(v,{options:[{label:"Stary",value:"stary"},{label:"Default",value:"default"},{label:"None",value:"none"}],onSelect:e=>{t(e)},selectedValue:e})))},C=t(r()),De=()=>{let{playbarMode:a,setPlaybarMode:t,playbarStyles:e,updatePlaybarStyles:r}=c();return C.default.createElement(C.default.Fragment,null,C.default.createElement(h,{title:"Set Playbar Mode",selectedValue:a},C.default.createElement(v,{options:[{label:"Compact",value:"compact"},{label:"Default",value:"default"}],onSelect:e=>{t(e)},selectedValue:a})),Object.entries(e[a]).map(([t,e])=>C.default.createElement(h,{key:t,title:"Set "+("backgroundColor"===t?"background color":"backdropBlur"===t?"backdrop blur":"borderRadius"===t?"border radius":t)},C.default.createElement(E,{type:"backgroundColor"===t?"text":"number",name:t,step:.01,value:e,onChange:e=>((e,t)=>{e=e.target.value.trim();r(a,t,e)})(e,t)}))))},Te=d.default.memo(()=>{var e=[{key:"background",title:"Background",description:"Customize your theme's background.",content:d.default.createElement(Ie,null)},{key:"grains",title:"Grains",description:"Set your grain texture.",content:d.default.createElement(je,null)},{key:"playlistView",title:"Playlist View",description:"Configure your playlist view.",content:d.default.createElement(Be,null)},{key:"playbar",title:"Playbar",description:"Configure your playbar.",content:d.default.createElement(De,null)},{key:"font",title:"Font",description:"Select your desired font.",content:d.default.createElement(Ne,null)},{key:"reset",title:"Reset Settings",description:"Reset to default settings.",content:d.default.createElement(Re,null)}];return d.default.createElement(Oe,{title:"Lucid Settings"},d.default.createElement("div",{className:"sections-container"},e.map(e=>d.default.createElement("div",{className:"section-wrapper",key:e.key,id:e.key},d.default.createElement(Me,{title:e.title,description:e.description},e.content)))))}),Ae=u.default.memo(()=>{let{isOpen:e,openModal:t}=ne();return u.default.createElement(u.default.Fragment,null,u.default.createElement(Le,{cb:()=>t()}),e?u.default.createElement(Te,null):null)}),P=t(r()),Ve=()=>{let{playlistViewMode:t,playlistImageMode:a}=c(),r=(0,P.useRef)(null);return(0,P.useEffect)(()=>{let e=document.body.classList;return e.add("playlist-art-image-"+a),e.add("playlist-view-"+t),()=>{e.remove("playlist-view-"+t),e.remove("playlist-art-image-"+a)}},[t,a]),(0,P.useEffect)(()=>{let t=document.querySelector(".Root__main-view .os-viewport, .Root__main-view .main-view-container > .main-view-container__scroll-node:not([data-overlayscrollbars-initialize]), .Root__main-view .main-view-container__scroll-node > [data-overlayscrollbars-viewport]");if(t&&r.current){let e=()=>{r.current&&(r.current.style.transform=`translateY(-${t.scrollTop}px)`)};return t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[]),P.default.createElement("span",{id:"playlistArtContainer",className:`playlist-art-container ${t} `+a,"data-playlistviewmode":t},P.default.createElement("div",{className:"background",ref:r}),P.default.createElement("div",{className:"overlay",style:{backgroundColor:"var(--spice-main)"}}))},I=t(r()),ze=()=>{let{fontFamily:e,fontImportUrl:a,setFontFamily:r,setFontImportUrl:n}=c(),[t,l]=I.default.useState(null),o=()=>{var t;if(l(null),(e=>{try{return new URL(e),!0}catch(e){return!1}})(a)){r(decodeURIComponent((null==(t=null==(t=a.match(/family=([^&:]+)/))?void 0:t[1])?void 0:t.replace(/\+/g," "))||""));let e=document.getElementById("custom-font");e?e.href=a:((e=document.createElement("link")).rel="preload stylesheet",e.as="style",e.id="custom-font",e.href=a,document.head.appendChild(e))}else a?(r(a),n("")):l("Please enter a valid font family or URL.");null!=(t=window.rootStyle)&&t.setProperty("--font-to-use",e)};return I.default.useEffect(()=>{t&&console.error("Font loading error:",t)},[t]),I.default.useEffect(()=>{o()},[e,a]),I.default.createElement("div",{id:"font","data-font-family":e,"data-font-import-url":a})},Ue=t(r()),Fe=()=>{let e=c().grainEffect;return(0,Ue.useEffect)(()=>(document.body.classList.add("grain-"+e),()=>{document.body.classList.remove("grain-"+e)}),[e]),Ue.default.createElement("div",{id:"grainEffect","data-grainEffect":e})},R=t(r()),He=t(r()),Ge={copyButton:"error-module__copyButton___UntTn_theme",button:"error-module__button___sf48q_theme"},qe="https://github.com/sanoojes/Spicetify-Lucid/issues",We=({error:e})=>{let[t,a]=(0,He.useState)(!1),r=(0,He.useRef)(null),n="";n=e instanceof Error?e.message:JSON.stringify(e,null,2);return R.default.createElement("div",{style:{width:"50vw"}},R.default.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},R.default.createElement("span",{style:{margin:"auto 0"}},R.default.createElement("p",null,"Oops! Lucid theme encountered an error. Please"," ",R.default.createElement("a",{href:qe,target:"_blank",rel:"noopener noreferrer"},"report an issue here"))),R.default.createElement("div",null,R.default.createElement("button",{type:"button",onClick:()=>a(!t),className:Ge.button},t?"Hide Details":"Show Details"),R.default.createElement("button",{type:"button",onClick:()=>{r.current&&(navigator.clipboard.writeText(r.current.textContent||""),Spicetify.showNotification("Error details copied!",!1,2e3))},className:Ge.copyButton,style:{marginLeft:"8px"}},"Copy Error"))),t&&R.default.createElement("pre",{style:{whiteSpace:"pre-wrap"},ref:r},n))},Ke=e=>{console.error("[Lucid] Error:",e),Spicetify.showNotification(R.default.createElement(We,{error:e}),!0)},$=t(r()),Xe=()=>{let{playbarMode:a,playbarStyles:r}=c(),[e,n]=($.default.useEffect(()=>(document.body.classList.add("playbar-"+a),()=>{document.body.classList.remove("playbar-"+a)}),[a]),$.default.useState({}));return $.default.useEffect(()=>{var e={"--background-color":null==(e=r[a])?void 0:e.backgroundColor,"--opacity":null==(e=r[a])?void 0:e.opacity,"--brightness":null==(e=r[a])?void 0:e.brightness,"--contrast":null==(e=r[a])?void 0:e.contrast,"--padding-x":`${(null==(e=r[a])?void 0:e.paddingX)||0}px`,"--padding-y":`${(null==(e=r[a])?void 0:e.paddingY)||0}px`,"--time":`${(null==(e=r[a])?void 0:e.time)||0}s`,"--blur":`${(null==(e=r[a])?void 0:e.blur)||0}px`,"--border-radius":`${(null==(e=r[a])?void 0:e.borderRadius)||8}px`,"--saturation":null==(e=r[a])?void 0:e.saturation,"--backdrop-blur":`${(null==(e=r[a])?void 0:e.backdropBlur)||0}px`},t=(n(e),document.querySelector(".Root__now-playing-bar"));t?t.style.cssText=Object.entries(e).map(([e,t])=>e+`: ${t};`).join(" "):console.error("Playbar element not found!")},[a,r]),$.default.createElement("div",{id:"playbar-styles",style:e})},Je=()=>{let[e,t]=(0,o.useState)("other"),a=(0,o.useRef)(null),r=(Spicetify.React.useEffect(()=>{try{l(),(()=>{var a=Spicetify.Locale;function r(e){return e.replace(/[{0}{1}«»”“]/g,"").trim()}if(a){var n=r(a.get("playlist.a11y.play")||""),l=r(a.get("playlist.a11y.pause")||""),o=a.get("play"),i=a.get("pause"),s=a.get("browse"),c=a.get("web-player.aligned-curation.tooltips.add-to-liked-songs"),u=a.get("web-player.aligned-curation.tooltips.add-to-playlist"),d=a.get("playback-control.skip-forward"),m=a.get("playback-control.skip-back"),p=a.get("buddy-feed.friend-activity"),f=a.get("tracklist.a11y.play")||"",y=a.get("view.web-player-home");let e,t;["zh-CN","zh-TW","am","fi"].includes(a.getLocale())?[e,t]=f.split("{1}"):[e,t]=f.split("{0}"),e=r(e),t=r(t);var f=a.get("playback-control.enable-repeat"),g=a.get("playback-control.enable-repeat-one"),a=a.get("playback-control.disable-repeat"),v=document.createElement("style");v.innerHTML=`
.main-repeatButton-button[aria-checked="false"],
.player-controls__right button[aria-label*="${f}"]  span{
  -webkit-mask-image: var(--repeat-off-icon, url("https://sanooj.is-a.dev/Spicetify-Lucid/assets/icons/repeat-off.svg"));
  mask-image: var(--repeat-off-icon, url("https://sanooj.is-a.dev/Spicetify-Lucid/assets/icons/repeat-off.svg"));
  background-color: var(--spice-subtext);
  mask-size: contain;
}

.main-repeatButton-button[aria-checked="mixed"],
.player-controls__right button[aria-label*="${a}"] span {
  -webkit-mask-image: var(--repeat-mixed-icon, url("https://sanooj.is-a.dev/Spicetify-Lucid/assets/icons/repeat-mixed.svg"));
  mask-image: var(--repeat-mixed-icon, url("https://sanooj.is-a.dev/Spicetify-Lucid/assets/icons/repeat-mixed.svg"));
  background-color: var(--spice-accent);
  mask-size: contain;
}

.main-repeatButton-button[aria-checked="true"],
.player-controls__right button[aria-label*="${g}"] span {
  -webkit-mask-image: var(--repeat-icon, url("https://sanooj.is-a.dev/Spicetify-Lucid/assets/icons/repeat.svg"));
  mask-image: var(--repeat-icon, url("https://sanooj.is-a.dev/Spicetify-Lucid/assets/icons/repeat.svg"));
  background-color: var(--spice-accent);
  mask-size: contain;
}

.player-controls__right button[aria-label*="${a}"] svg,
.player-controls__right button[aria-label*="${f}"] svg {
  transform: scale(1.15);
}

.player-controls__right button[aria-label*="${a}"] svg,
.player-controls__right button[aria-label*="${f}"] svg {
  visibility: hidden;
  opacity: 0;
}

.main-repeatButton-button {
  transform: scale(0.65) !important;
}

.player-controls__buttons button[aria-label*="${o}"] span,
.main-playButton-button[aria-label*="${o}"],
.main-playButton-PlayButton>button[aria-label*="${o}"],
.main-playPauseButton-button[aria-label="${o}"],
.main-trackList-rowPlayPauseButton[aria-label*="${o}"],
.main-trackList-rowImagePlayButton[aria-label*="${e}"][aria-label*="${t}"],
.main-playButton-PlayButton>button[aria-label*="${n}"] {
  background-color: var(--spice-text) !important;
  -webkit-mask-image: var(--play-icon, url("https://sanooj.is-a.dev/Spicetify-Lucid/assets/icons/play.svg")) !important;
  mask-image: var(--play-icon, url("https://sanooj.is-a.dev/Spicetify-Lucid/assets/icons/play.svg")) !important;
}

.main-playButton-button[aria-label*="${i}"],
.main-playButton-PlayButton>button[aria-label*="${i}"],
.main-playPauseButton-button[aria-label*="${i}"],
.player-controls__buttons button[aria-label*="${i}"] span,
.main-trackList-rowPlayPauseButton[aria-label*="${i}"],
.main-trackList-rowImagePlayButton[aria-label*="${i}"],
.main-playButton-PlayButton>button[aria-label*="${l}"] {
  background-color: var(--spice-text) !important;
  -webkit-mask-image: var(--pause-icon, url("https://sanooj.is-a.dev/Spicetify-Lucid/assets/icons/pause.svg")) !important;
  mask-image: var(--pause-icon, url("https://sanooj.is-a.dev/Spicetify-Lucid/assets/icons/pause.svg")) !important;
}

.Root__globalNav button:is([aria-label="Clear search field"]) {
  background-color: transparent !important;
  border: none !important;
}

button[aria-label="${s}"] path {
  display: none !important;
}

button[aria-label="${s}"] svg {
  display: none;
  -webkit-mask-image: var(--compass-outline-icon, url("https://sanooj.is-a.dev/Spicetify-Lucid/assets/icons/compass-outline.svg"));
  mask-image: var(--compass-outline-icon, url("https://sanooj.is-a.dev/Spicetify-Lucid/assets/icons/compass-outline.svg"));
  background-color: var(--spice-subtext) !important;
  scale: 1.25;
}

.main-repeatButton-button[aria-label="${f}"],
.main-repeatButton-button[aria-label="${a}"],
.main-repeatButton-button[aria-label="${g}"],
{
scale: 0.75 !important;
background-color: var(--spice-subtext) !important;
color: var(--spice-subtext);

svg {
  display: none;
}
}

.player-controls__buttons button[aria-label*="${o}"] span,
.player-controls__buttons button[aria-label*="${i}"] span{
  display: block;
  mask-size: 100%;
  -webkit-mask-position: center center;
  mask-position: center center;
  background-color: var(--spice-subtext);
  -webkit-mask-repeat: no-repeat;
  mask-repeat: no-repeat;
  -webkit-mask-size: cover;
  mask-size: cover;
  aspect-ratio: 1/1;
}

.main-playPauseButton-button,
button[aria-label="${c}"],
button[aria-label="${u}"],
.player-controls button[aria-label="${m}"],
.player-controls button[aria-label="${d}"]
{
  display: block;
  mask-size: 100%;
  -webkit-mask-position: center center;
  mask-position: center center;
  background-color: var(--spice-subtext);
  -webkit-mask-repeat: no-repeat;
  mask-repeat: no-repeat;
  -webkit-mask-size: cover;
  mask-size: cover;
  min-height: 1rem;
  min-width: 1rem;
  aspect-ratio: 1/1;
  border-radius: 0 !important;
  border: none !important;
  height: var(--button-size, 24px);
  width: var(--button-size, 24px);
  
  svg,
  span {
    display: none;
    visibility: hidden;
  }
}

.player-controls__buttons button[aria-label*="${o}"] span svg,
.player-controls__buttons button[aria-label*="${i}"] span svg {
  display: none;
  visibility: hidden;
}

button[aria-label="${u}"],
button[aria-label="${c}"] {
  background-color: var(--spice-subtext);
  -webkit-mask-image: var(--heart-outline-icon, url("https://sanooj.is-a.dev/Spicetify-Lucid/assets/icons/heart-outline.svg"));
  mask-image: var(--heart-outline-icon, url("https://sanooj.is-a.dev/Spicetify-Lucid/assets/icons/heart-outline.svg")) !important;
  mask-size: 100%;
  mask-position: 50% 50%;
  min-width: 1.2rem;
  min-height: 1.2rem;

  svg,
  span {
display: none;
visibility: hidden;
  }
}

button[aria-label="${u}"] {
  background-color: var(--spice-accent);
  -webkit-mask-image: var(--heart-icon, url("https://sanooj.is-a.dev/Spicetify-Lucid/assets/icons/heart.svg"));
  mask-image: var(--heart-icon, url("https://sanooj.is-a.dev/Spicetify-Lucid/assets/icons/heart.svg")) !important;
}

.player-controls button[aria-label="${m}"] span,
.player-controls button[aria-label="${d}"] span {
  opacity: 0;
}

.player-controls button[aria-label="${m}"] {
  background-color: var(--spice-text);
  -webkit-mask-image: var(--prev-icon, url("https://sanooj.is-a.dev/Spicetify-Lucid/assets/icons/prev.svg"));
  mask-image: var(--prev-icon, url("https://sanooj.is-a.dev/Spicetify-Lucid/assets/icons/prev.svg"));
}

.player-controls button[aria-label="${d}"] {
  background-color: var(--spice-text);
  -webkit-mask-image: var(--next-icon, url("https://sanooj.is-a.dev/Spicetify-Lucid/assets/icons/next.svg"));
  mask-image: var(--next-icon, url("https://sanooj.is-a.dev/Spicetify-Lucid/assets/icons/next.svg"));
}

button[aria-label="${p}"]>path {
  display: none;
}

.main-actionButtons>div>button[aria-label="${p}"] svg,
.main-actionButtons>button[aria-label="${p}"] svg {
  background-color: var(--spice-subtext) !important;
  -webkit-mask-image: var(--people-team-icon, url("https://sanooj.is-a.dev/Spicetify-Lucid/assets/icons/people-team.svg"));
  mask-image: var(--people-team-icon, url("https://sanooj.is-a.dev/Spicetify-Lucid/assets/icons/people-team.svg"));
}

.main-yourLibraryX-navLink[aria-label="${y}"] svg,
button[aria-label="${y}"] svg {
  path {
display: none !important;
  }

  mask-image: var(--home-outline-icon, url("https://sanooj.is-a.dev/Spicetify-Lucid/assets/icons/home-outline.svg"));
  -webkit-mask-image: var(--home-outline-icon, url("https://sanooj.is-a.dev/Spicetify-Lucid/assets/icons/home-outline.svg"));
  background-color: var(--spice-subtext) !important;
}


.main-yourLibraryX-navLink[aria-label="${y}"].active svg,
.main-globalNav-navLinkActive[aria-label="${y}"] svg {
  path {
display: none !important;
  }

  mask-image: var(--home-filled-icon, url("https://sanooj.is-a.dev/Spicetify-Lucid/assets/icons/home-filled.svg"));
  -webkit-mask-image: var(--home-filled-icon, url("https://sanooj.is-a.dev/Spicetify-Lucid/assets/icons/home-filled.svg"));
  background-color: var(--spice-text) !important;
}

.main-yourLibraryX-navLink[aria-label="${y}"].active svg {
  path {
display: none !important;
  }

  background-color: var(--spice-accent) !important;
}

#context-menu ul[aria-label*="Add to playlist menu"] {
  p {
max-width: 10rem;
  }
}
`,document.head.appendChild(v)}})(),Ze(),r(),n(),Y()}catch(e){Ke(e)}},[]),()=>{try{(async()=>{for(var e;null==(e=null==Spicetify?void 0:Spicetify.Player)||!e.data;)await new Promise(e=>setTimeout(e,100));try{window.currentArtUrl=Spicetify.Player.data.item.metadata.image_xlarge_url||Spicetify.Player.data.item.metadata.image_large_url||Spicetify.Player.data.item.metadata.image_url||Spicetify.Player.data.item.metadata.image_small_url||"",window.rootStyle.setProperty("--now-playing-art-image",`url(${window.currentArtUrl})`)}catch(e){console.error("Error updating artwork URL:",e)}})()}catch(e){Ke(e)}}),n=(window.addEventListener("resize",Ze),()=>{var e,t;document.getElementById("lucid-under-main-view")||((e=document.createElement("div")).id="lucid-under-main-view",e.className="lucid-under-main-view",(t=document.querySelector(".main-view-container"))&&t.prepend(e),a.current=e,a.current&&Spicetify.ReactDOM.createRoot(a.current).render(o.default.createElement(Ve,null)))}),l=()=>{var e=Spicetify.Platform.History.location.pathname;Spicetify.URI.isPlaylistV1OrV2(e)?t("playlist"):Spicetify.URI.isArtist(e)?t("artist"):t("other")};return(0,o.useEffect)(()=>(document.body.classList.add(e),()=>{document.body.classList.remove(e)}),[e]),Spicetify.Platform.History.listen(async()=>{l(),n(),await Y()}),Spicetify.Player.addEventListener("songchange",r),o.default.createElement(o.default.Fragment,null,o.default.createElement("div",{id:"state"},o.default.createElement(Fe,null),o.default.createElement(ze,null),o.default.createElement(Xe,null)),o.default.createElement("div",{id:"background-container",className:"background-container",style:{containerType:"normal"}},o.default.createElement(xe,null)),o.default.createElement("div",{id:"modal-container",className:"modal-container",style:{containerType:"normal"}},o.default.createElement(re,null,o.default.createElement(Ae,null))),window.isWindows&&!window.isLightMode?o.default.createElement("div",{id:"transperent-controls-container",className:"transperent-controls-container",style:{containerType:"normal"}},o.default.createElement(oe,null)):null)},Ye=async function(){var e;try{for(;null==Spicetify||!Spicetify.showNotification||null==Spicetify||!Spicetify.Player||null==Spicetify||!Spicetify.React;)await new Promise(e=>setTimeout(e,100));var t=document.createElement("div"),a=(t.id="lucid-main",document.getElementById("main"));null!=a&&a.prepend(t),t&&Spicetify.ReactDOM.createRoot(t).render(J.default.createElement(Je,null)),window.rootStyle=document.documentElement.style,window.isCustomControls=!1,window.isLightMode="light"===(null==Spicetify?void 0:Spicetify.Config.color_scheme)||!1,window.isWindows="windows"===(null==(e=null==Spicetify?void 0:Spicetify.Platform)?void 0:e.operatingSystem).toLowerCase()||(null==Spicetify?void 0:Spicetify.Platform.PlatformData.os_name).toLowerCase().includes("win"),window.isGlobalNav=!(!document.querySelector(".globalNav")&&!document.querySelector(".Root__globalNav")),(async()=>{var e;document.getElementById("customControls")&&(window.isCustomControls=!0,null!=(e=document.querySelector(".lucid-transperent-window-controls")))&&e.remove()})()}catch(e){e&&Ke(e)}},(async()=>{await Ye()})(),(async()=>{var e;document.getElementById("theme")||((e=document.createElement("style")).id="theme",e.textContent=String.raw`
  .error-module__button___sf48q_theme,.error-module__copyButton___UntTn_theme{background-color:#424242;color:#fff;border:2px solid rgba(var(--spice-rgb-text),.25);padding:8px 16px;font-size:14px;cursor:pointer;border-radius:var(--card-border-radius);transition:all .3s ease-in-out}.error-module__button___sf48q_theme:hover,.error-module__copyButton___UntTn_theme:hover{background-color:#616161;border-radius:100px}
      `.trim(),document.head.appendChild(e))})()})();